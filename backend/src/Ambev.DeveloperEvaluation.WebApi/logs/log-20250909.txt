2025-09-09 00:07:27.267 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 00:11:07.467 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 00:11:07.583 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 00:11:07.650 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 00:11:07.653 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 00:11:07.655 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 00:11:07.656 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 00:11:11.901 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - null null
2025-09-09 00:11:11.955 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:11:11.974 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:11:13.052 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:11:13.188 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:11:13.220 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:11:13.272 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1291.2593ms
2025-09-09 00:11:13.277 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:11:13.291 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - 200 null application/json; charset=utf-8 1390.7816ms
2025-09-09 00:13:24.770 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Users - application/json 392
2025-09-09 00:13:24.776 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:13:24.782 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(Ambev.DeveloperEvaluation.WebApi.Features.Users.CreateUser.CreateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:13:24.917 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-09 00:13:25.415 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "Password", "Phone", "Role", "Status", "UpdatedAt", "Username", "Address_City", "Address_Number", "Address_Street", "Address_Zipcode", "Address_Geolocation_Lat", "Address_Geolocation_Long", "Name_Firstname", "Name_Lastname")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15)
RETURNING "Id";
2025-09-09 00:13:25.438 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.CreateUser.CreateUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:13:25.443 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi) in 658.0492ms
2025-09-09 00:13:25.445 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:13:25.448 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Users - 201 null application/json; charset=utf-8 677.9703ms
2025-09-09 00:13:31.435 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - null null
2025-09-09 00:13:31.441 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:13:31.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:13:31.504 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:13:31.513 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:13:31.517 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:13:31.519 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 75.4243ms
2025-09-09 00:13:31.521 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:13:31.523 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - 200 null application/json; charset=utf-8 87.366ms
2025-09-09 00:14:04.532 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 00:14:04.535 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:04.536 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:14:04.546 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:14:04.559 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:14:04.561 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:14:04.563 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 24.4286ms
2025-09-09 00:14:04.564 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:04.565 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 33.7308ms
2025-09-09 00:14:18.297 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 00:14:18.301 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:18.302 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:14:18.306 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:14:18.311 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:14:18.314 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:14:18.316 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 12.474ms
2025-09-09 00:14:18.318 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:18.320 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 22.8445ms
2025-09-09 00:14:22.896 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - null null
2025-09-09 00:14:22.898 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:22.899 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:14:22.904 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:14:22.909 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:14:22.911 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:14:22.913 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 12.0849ms
2025-09-09 00:14:22.915 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:22.917 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - 200 null application/json; charset=utf-8 21.1293ms
2025-09-09 00:14:42.952 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20asc - null null
2025-09-09 00:14:42.956 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:42.957 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:14:42.963 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:14:42.973 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:14:42.976 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:14:42.979 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 20.0852ms
2025-09-09 00:14:42.981 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:14:42.983 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20asc - 200 null application/json; charset=utf-8 31.077ms
2025-09-09 00:15:01.213 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - null null
2025-09-09 00:15:01.217 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:01.218 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:15:01.222 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:15:01.228 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:15:01.233 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:15:01.235 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 15.4173ms
2025-09-09 00:15:01.237 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:01.239 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - 200 null application/json; charset=utf-8 25.6379ms
2025-09-09 00:15:23.545 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - null null
2025-09-09 00:15:23.549 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:23.551 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:15:23.556 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:15:23.561 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:15:23.565 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:15:23.568 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 14.1598ms
2025-09-09 00:15:23.570 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:23.572 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20asc,email%20desc - 200 null application/json; charset=utf-8 27.4056ms
2025-09-09 00:15:28.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 00:15:28.434 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:28.435 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:15:28.440 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:15:28.445 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:15:28.450 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:15:28.453 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 15.8131ms
2025-09-09 00:15:28.455 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:15:28.456 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 24.9985ms
2025-09-09 00:25:20.433 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 00:25:29.716 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 00:25:29.870 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 00:25:29.967 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 00:25:29.970 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 00:25:29.972 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 00:25:29.974 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 00:25:34.556 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 00:25:34.604 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:25:34.622 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:25:35.741 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:25:35.871 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:25:35.903 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:25:35.955 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1327.0341ms
2025-09-09 00:25:35.959 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:25:35.971 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 1415.9925ms
2025-09-09 00:46:02.418 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 00:46:15.304 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 00:46:15.424 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 00:46:15.495 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 00:46:15.497 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 00:46:15.499 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 00:46:15.500 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 00:46:20.834 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 00:46:20.885 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:46:20.905 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 00:46:22.009 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 00:46:22.126 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 00:46:22.155 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 00:46:22.203 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1291.31ms
2025-09-09 00:46:22.208 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 00:46:22.218 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 1384.8142ms
2025-09-09 00:47:55.982 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 01:04:15.189 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 01:04:15.319 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 01:04:15.409 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 01:04:15.414 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 01:04:15.424 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 01:04:15.430 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 01:04:27.142 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - application/json 418
2025-09-09 01:04:27.186 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:04:27.209 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Users.UpdateUser.UpdateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:04:28.373 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__user_Id_0
LIMIT 1
2025-09-09 01:04:28.578 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "Password" = @p2, "Phone" = @p3, "Role" = @p4, "Status" = @p5, "UpdatedAt" = @p6, "Username" = @p7, "Address_City" = @p8, "Address_Street" = @p9, "Address_Zipcode" = @p10, "Address_Geolocation_Lat" = @p11, "Address_Geolocation_Long" = @p12, "Name_Firstname" = @p13, "Name_Lastname" = @p14
WHERE "Id" = @p15;
2025-09-09 01:04:28.598 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 01:04:28.611 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi) in 1395.3221ms
2025-09-09 01:04:28.614 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:04:28.623 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 500 null application/json; charset=utf-8 1481.8888ms
2025-09-09 01:06:14.309 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 01:09:17.672 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 01:09:17.831 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 01:09:17.935 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 01:09:17.937 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 01:09:17.938 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 01:09:17.940 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 01:09:21.878 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - application/json 418
2025-09-09 01:09:21.930 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:09:21.951 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Users.UpdateUser.UpdateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:09:23.134 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (45ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__user_Id_0
LIMIT 1
2025-09-09 01:09:23.370 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "Password" = @p2, "Phone" = @p3, "Role" = @p4, "Status" = @p5, "UpdatedAt" = @p6, "Username" = @p7
WHERE "Id" = @p8;
2025-09-09 01:09:23.393 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 01:09:23.432 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi) in 1473.7926ms
2025-09-09 01:09:23.436 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:09:23.447 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 1569.8845ms
2025-09-09 01:10:18.739 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 01:10:24.275 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 01:10:24.395 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 01:10:24.461 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 01:10:24.464 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 01:10:24.465 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 01:10:24.466 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 01:10:32.742 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 01:10:32.797 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:10:32.816 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:10:34.518 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 01:10:34.697 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 01:10:34.751 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 1927.7849ms
2025-09-09 01:10:34.757 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:10:34.773 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 2031.9239ms
2025-09-09 01:11:31.988 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - application/json 421
2025-09-09 01:11:31.994 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:11:32.000 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Users.UpdateUser.UpdateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:11:32.075 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__user_Id_0
LIMIT 1
2025-09-09 01:11:32.181 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "Password" = @p2, "Phone" = @p3, "Role" = @p4, "Status" = @p5, "UpdatedAt" = @p6, "Username" = @p7, "Name_Firstname" = @p8, "Name_Lastname" = @p9
WHERE "Id" = @p10;
2025-09-09 01:11:32.193 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 01:11:32.205 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi) in 202.8731ms
2025-09-09 01:11:32.209 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:11:32.211 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 223.0633ms
2025-09-09 01:11:39.805 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 01:11:39.811 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:11:39.812 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:11:39.876 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 01:11:39.883 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 01:11:39.885 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 71.4071ms
2025-09-09 01:11:39.888 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:11:39.889 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 84.7162ms
2025-09-09 01:15:43.211 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 01:15:49.384 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 01:15:49.490 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 01:15:49.602 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 01:15:49.610 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 01:15:49.612 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 01:15:49.614 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 01:16:06.054 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Users - application/json 401
2025-09-09 01:16:06.098 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:16:06.121 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(Ambev.DeveloperEvaluation.WebApi.Features.Users.CreateUser.CreateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:16:06.399 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi) in 273.9768ms
2025-09-09 01:16:06.404 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.CreateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:16:06.420 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Users - 400 null application/json 366.8953ms
2025-09-09 01:19:25.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36ab - null null
2025-09-09 01:19:25.701 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:25.709 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:19:25.724 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-09 01:19:25.748 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 36.1358ms
2025-09-09 01:19:25.751 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:25.752 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36ab - 400 null application/problem+json; charset=utf-8 59.7794ms
2025-09-09 01:19:44.026 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/ - null null
2025-09-09 01:19:44.031 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:44.036 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:19:44.905 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 01:19:45.015 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 01:19:45.033 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 01:19:45.051 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1012.8706ms
2025-09-09 01:19:45.052 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:45.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/ - 200 null application/json; charset=utf-8 1033.1804ms
2025-09-09 01:19:50.333 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 01:19:50.342 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:50.343 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:19:50.409 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 01:19:50.530 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 01:19:50.533 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 187.6571ms
2025-09-09 01:19:50.534 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:50.536 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 202.5292ms
2025-09-09 01:19:57.114 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36b - null null
2025-09-09 01:19:57.118 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:57.119 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:19:57.184 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 01:19:57.188 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 01:19:57.190 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 68.866ms
2025-09-09 01:19:57.191 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:19:57.193 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36b - 500 null application/json; charset=utf-8 78.9606ms
2025-09-09 01:20:02.985 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 01:20:02.988 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:20:02.989 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:20:02.996 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 01:20:03.000 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 01:20:03.003 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 11.7662ms
2025-09-09 01:20:03.006 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:20:03.009 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 23.9213ms
2025-09-09 01:20:28.349 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/Auth - application/json 67
2025-09-09 01:20:28.355 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Auth.AuthController.AuthenticateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:20:28.363 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "AuthenticateUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AuthenticateUser(Ambev.DeveloperEvaluation.WebApi.Features.Auth.AuthenticateUserFeature.AuthenticateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Auth.AuthController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:20:28.397 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-09-09 01:20:28.400 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 01:20:28.401 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Auth.AuthController.AuthenticateUser (Ambev.DeveloperEvaluation.WebApi) in 34.4031ms
2025-09-09 01:20:28.403 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Auth.AuthController.AuthenticateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:20:28.404 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/Auth - 500 null application/json; charset=utf-8 55.6241ms
2025-09-09 01:26:56.184 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 01:35:21.109 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 01:35:21.233 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 01:35:21.324 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 01:35:21.327 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 01:35:21.329 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 01:35:21.330 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 01:35:31.082 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - application/json 436
2025-09-09 01:35:31.153 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:35:31.177 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Users.UpdateUser.UpdateUserRequest, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 01:35:31.486 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 01:35:31.497 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi) in 312.601ms
2025-09-09 01:35:31.504 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.UpdateUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 01:35:31.511 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 500 null application/json; charset=utf-8 429.4227ms
2025-09-09 01:46:23.278 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 03:18:17.614 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 03:18:17.836 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 03:18:17.966 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 03:18:17.969 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 03:18:17.972 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 03:18:17.974 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 03:18:44.001 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 03:18:44.096 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:18:44.116 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:18:45.396 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 03:18:45.507 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 03:18:45.533 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 03:18:45.583 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1461.4477ms
2025-09-09 03:18:45.586 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:18:45.595 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 1595.652ms
2025-09-09 03:19:21.946 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 03:19:21.953 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:19:21.958 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:19:22.032 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 03:19:22.125 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 03:19:22.129 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 167.9873ms
2025-09-09 03:19:22.131 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:19:22.135 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 188.3873ms
2025-09-09 03:20:56.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - null null
2025-09-09 03:20:56.826 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:20:56.831 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:20:56.901 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 03:20:56.911 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 03:20:56.915 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 03:20:56.924 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 91.2474ms
2025-09-09 03:20:56.926 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:20:56.928 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 107.3947ms
2025-09-09 03:21:14.568 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/{category}?page=1&pageSize=10&order=Title - null null
2025-09-09 03:21:14.570 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:21:14.577 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:21:14.592 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 03:21:14.598 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 03:21:14.601 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 03:21:14.603 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 23.7391ms
2025-09-09 03:21:14.605 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:21:14.607 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/{category}?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 39.623ms
2025-09-09 03:23:23.846 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 03:23:23.850 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:23:23.852 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:23:23.862 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 03:23:23.865 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 03:23:23.867 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 13.6546ms
2025-09-09 03:23:23.869 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:23:23.872 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 25.1374ms
2025-09-09 03:25:08.150 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - null null
2025-09-09 03:25:08.152 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:25:08.153 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 03:25:08.167 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 03:25:08.172 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 03:25:08.175 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 03:25:08.177 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 22.6343ms
2025-09-09 03:25:08.179 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 03:25:08.180 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 30.18ms
2025-09-09 09:08:41.406 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/products - application/json 186
2025-09-09 09:08:41.412 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:08:41.420 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Ambev.DeveloperEvaluation.WebApi.Features.Products.CreateProduct.CreateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 09:08:41.583 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi) in 160.4241ms
2025-09-09 09:08:41.586 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:08:41.591 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/products - 400 null application/json 184.3047ms
2025-09-09 09:15:43.569 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 09:26:28.794 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 09:26:29.125 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 09:26:29.271 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 09:26:29.274 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 09:26:29.276 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 09:26:29.278 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 09:27:58.958 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - null null
2025-09-09 09:27:59.090 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:27:59.128 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 09:28:00.797 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 09:28:00.969 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 09:28:00.988 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 09:28:01.042 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 1905.7055ms
2025-09-09 09:28:01.047 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:28:01.064 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 2106.6031ms
2025-09-09 09:28:04.787 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/{category}?page=1&pageSize=10&order=Title - null null
2025-09-09 09:28:04.798 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:28:04.806 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 09:28:04.880 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 09:28:04.902 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 09:28:04.907 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 09:28:04.910 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 98.8511ms
2025-09-09 09:28:04.912 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:28:04.916 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/{category}?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 129.2192ms
2025-09-09 09:28:09.373 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/categories - null null
2025-09-09 09:28:09.381 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:28:09.390 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllCategories", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 09:28:09.497 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT p."Category"
FROM "Products" AS p
2025-09-09 09:28:09.502 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 09:28:09.511 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi) in 117.3072ms
2025-09-09 09:28:09.514 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 09:28:09.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/categories - 200 null application/json; charset=utf-8 142.6319ms
2025-09-09 09:35:14.143 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 11:31:27.707 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 11:31:27.936 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:31:28.074 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 11:31:28.076 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 11:31:28.079 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 11:31:28.081 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 11:31:36.547 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - null null
2025-09-09 11:31:36.629 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:36.655 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:31:38.227 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (52ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 11:31:38.337 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Product'.
2025-09-09 11:31:38.373 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductById (Ambev.DeveloperEvaluation.WebApi) in 1711.3537ms
2025-09-09 11:31:38.376 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:38.389 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 1843.208ms
2025-09-09 11:31:41.578 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:31:41.584 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:41.589 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:31:41.669 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:31:41.685 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:31:41.691 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:31:41.706 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 114.7489ms
2025-09-09 11:31:41.708 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:41.710 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 132.2082ms
2025-09-09 11:31:48.505 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - null null
2025-09-09 11:31:48.513 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:48.517 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:31:48.593 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:31:48.607 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:31:48.612 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:31:48.614 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 95.1306ms
2025-09-09 11:31:48.616 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:31:48.618 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 113.2707ms
2025-09-09 11:32:01.518 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/categories - null null
2025-09-09 11:32:01.522 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:01.525 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllCategories", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:32:01.585 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT p."Category"
FROM "Products" AS p
2025-09-09 11:32:01.642 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 11:32:01.645 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi) in 118.4328ms
2025-09-09 11:32:01.648 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:01.650 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/categories - 200 null application/json; charset=utf-8 131.889ms
2025-09-09 11:32:10.829 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/products - application/json 174
2025-09-09 11:32:10.833 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:10.836 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Ambev.DeveloperEvaluation.WebApi.Features.Products.CreateProduct.CreateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:32:10.974 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Decimal), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "Description", "Image", "Price", "Title", "Rating_Count", "Rating_Rate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-09-09 11:32:10.986 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Products.CreateProduct.CreateProductResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:32:10.990 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi) in 151.8077ms
2025-09-09 11:32:10.992 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.CreateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:10.994 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/products - 201 null application/json; charset=utf-8 164.3233ms
2025-09-09 11:32:20.556 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:32:20.560 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:20.561 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:32:20.568 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:32:20.574 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:32:20.577 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:32:20.579 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 16.5847ms
2025-09-09 11:32:20.580 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:20.582 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 25.2356ms
2025-09-09 11:32:25.485 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - null null
2025-09-09 11:32:25.488 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:25.489 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:32:25.495 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:32:25.499 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:32:25.502 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:32:25.503 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 11.8597ms
2025-09-09 11:32:25.505 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:25.508 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 22.7676ms
2025-09-09 11:32:49.769 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 181
2025-09-09 11:32:49.773 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:49.777 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:32:49.785 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:32:49.789 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 10.5252ms
2025-09-09 11:32:49.791 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:32:49.792 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 400 null application/json; charset=utf-8 22.3529ms
2025-09-09 11:35:40.544 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 11:35:51.665 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 11:35:51.903 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:35:52.021 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 11:35:52.024 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 11:35:52.026 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 11:35:52.028 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 11:36:02.439 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 181
2025-09-09 11:36:02.526 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:36:02.556 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:36:02.769 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:36:02.780 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 216.2484ms
2025-09-09 11:36:02.787 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:36:02.793 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 400 null application/json; charset=utf-8 354.8499ms
2025-09-09 11:36:17.326 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 11:38:42.689 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 11:38:42.860 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:38:42.940 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 11:38:42.943 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 11:38:42.945 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 11:38:42.947 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 11:38:45.531 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 181
2025-09-09 11:38:45.591 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:45.617 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:38:46.949 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (60ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "Description" = @p1, "Image" = @p2, "Price" = @p3, "Title" = @p4, "Rating_Count" = @p5, "Rating_Rate" = @p6
WHERE "Id" = @p7;
2025-09-09 11:38:46.981 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:38:47.005 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 1381.7069ms
2025-09-09 11:38:47.010 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:47.023 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 200 null application/json; charset=utf-8 1493.0283ms
2025-09-09 11:38:50.874 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:38:50.883 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:50.891 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:38:51.136 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:38:51.197 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:38:51.208 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:38:51.214 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 319.3596ms
2025-09-09 11:38:51.216 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:51.218 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 343.8253ms
2025-09-09 11:38:59.533 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20asc - null null
2025-09-09 11:38:59.539 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:59.541 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:38:59.563 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:38:59.573 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:38:59.578 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:38:59.579 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 35.1082ms
2025-09-09 11:38:59.581 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:38:59.582 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20asc - 200 null application/json; charset=utf-8 48.8257ms
2025-09-09 11:39:05.779 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:39:05.781 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:05.782 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:05.791 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:39:05.797 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:39:05.800 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:05.802 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 18.712ms
2025-09-09 11:39:05.804 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:05.806 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 27.3805ms
2025-09-09 11:39:10.494 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - null null
2025-09-09 11:39:10.498 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:10.502 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:10.531 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:39:10.544 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:39:10.548 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:10.549 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 44.8667ms
2025-09-09 11:39:10.551 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:10.552 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title - 200 null application/json; charset=utf-8 57.6165ms
2025-09-09 11:39:21.302 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title%20desc - null null
2025-09-09 11:39:21.305 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:21.306 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:21.312 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:39:21.317 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:39:21.321 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:21.323 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 15.3379ms
2025-09-09 11:39:21.326 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:21.330 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title%20desc - 200 null application/json; charset=utf-8 27.8177ms
2025-09-09 11:39:24.969 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title%20asc - null null
2025-09-09 11:39:24.973 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:24.974 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:24.980 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:39:24.987 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:39:24.991 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:24.994 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 17.7101ms
2025-09-09 11:39:24.996 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:24.997 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=Title%20asc - 200 null application/json; charset=utf-8 28.3755ms
2025-09-09 11:39:36.076 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20asc - null null
2025-09-09 11:39:36.080 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:36.081 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:36.087 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:39:36.096 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price"
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:39:36.099 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:36.102 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 19.2534ms
2025-09-09 11:39:36.105 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:36.108 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20asc - 200 null application/json; charset=utf-8 30.2188ms
2025-09-09 11:39:40.273 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:39:40.278 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:40.279 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:40.286 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 11:39:40.297 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 11:39:40.299 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:39:40.301 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 19.6825ms
2025-09-09 11:39:40.302 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:40.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 29.6294ms
2025-09-09 11:39:50.070 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/categories - null null
2025-09-09 11:39:50.075 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:50.078 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllCategories", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:50.094 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT p."Category"
FROM "Products" AS p
2025-09-09 11:39:50.097 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 11:39:50.099 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi) in 19.5319ms
2025-09-09 11:39:50.102 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllCategories (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:50.104 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/categories - 200 null application/json; charset=utf-8 33.2378ms
2025-09-09 11:39:56.879 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - null null
2025-09-09 11:39:56.883 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:56.889 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:39:57.018 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 11:39:57.022 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:39:57.026 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi) in 134.4622ms
2025-09-09 11:39:57.036 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:39:57.050 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - 404 null application/json; charset=utf-8 171.3971ms
2025-09-09 11:41:13.932 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 11:44:55.781 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 11:44:55.950 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 11:44:56.042 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 11:44:56.045 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 11:44:56.047 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 11:44:56.048 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 11:44:59.016 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/products/ - null null
2025-09-09 11:44:59.080 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '405 HTTP Method Not Supported'
2025-09-09 11:44:59.083 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '405 HTTP Method Not Supported'
2025-09-09 11:44:59.087 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/products/ - 405 0 null 73.4815ms
2025-09-09 11:45:06.223 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - null null
2025-09-09 11:45:06.231 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:45:06.250 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:45:07.611 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (46ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 11:45:07.632 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:45:07.648 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi) in 1393.0197ms
2025-09-09 11:45:07.651 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:45:07.659 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - 404 null application/json; charset=utf-8 1435.1585ms
2025-09-09 11:46:32.319 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef56 - application/json 181
2025-09-09 11:46:32.325 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:32.332 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:46:32.542 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "Description" = @p1, "Image" = @p2, "Price" = @p3, "Title" = @p4, "Rating_Count" = @p5, "Rating_Rate" = @p6
WHERE "Id" = @p7;
2025-09-09 11:46:32.554 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:46:32.556 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 222.2739ms
2025-09-09 11:46:32.558 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:32.559 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef56 - 500 null application/json; charset=utf-8 240.0157ms
2025-09-09 11:46:51.048 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 181
2025-09-09 11:46:51.051 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:51.052 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:46:51.116 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "Description" = @p1, "Image" = @p2, "Price" = @p3, "Title" = @p4, "Rating_Count" = @p5, "Rating_Rate" = @p6
WHERE "Id" = @p7;
2025-09-09 11:46:51.122 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:46:51.135 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 81.4649ms
2025-09-09 11:46:51.137 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:51.139 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 200 null application/json; charset=utf-8 90.6639ms
2025-09-09 11:46:59.053 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - null null
2025-09-09 11:46:59.056 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:59.058 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteProduct(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:46:59.065 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 11:46:59.068 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 11:46:59.071 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi) in 11.7501ms
2025-09-09 11:46:59.074 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.DeleteProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:46:59.077 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/products/2e39e737-d317-4b1c-9284-c3cea8330bf2 - 404 null application/json; charset=utf-8 23.819ms
2025-09-09 11:47:26.147 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 11:47:26.153 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:47:26.157 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:47:26.221 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 11:47:26.246 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:47:26.253 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:47:26.265 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 104.982ms
2025-09-09 11:47:26.267 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:47:26.269 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 121.8535ms
2025-09-09 11:48:11.128 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 11:48:11.134 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:48:11.140 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 11:48:11.155 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 11:48:11.179 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 11:48:11.201 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 11:48:11.218 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 76.0607ms
2025-09-09 11:48:11.221 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 11:48:11.222 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 93.5905ms
2025-09-09 11:57:42.934 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:06:11.579 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:06:12.032 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:06:12.356 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:06:12.359 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:06:12.361 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:06:12.364 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:14:06.297 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 12:14:06.488 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:14:06.593 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:14:09.785 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 12:14:10.310 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (54ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 12:14:10.359 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 12:14:10.452 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 3846.3439ms
2025-09-09 12:14:10.458 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:14:10.494 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 4200.1066ms
2025-09-09 12:15:04.962 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:24:46.938 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:24:47.304 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:24:47.570 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:24:47.573 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:24:47.576 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:24:47.579 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:24:54.438 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 12:24:54.664 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:24:54.742 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:24:57.589 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 12:24:58.547 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (60ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 12:24:58.601 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 12:24:58.829 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 4076.0124ms
2025-09-09 12:24:58.969 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:24:59.026 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 4585.2533ms
2025-09-09 12:25:03.093 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 12:25:03.105 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:03.119 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:25:03.877 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 752.291ms
2025-09-09 12:25:03.881 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:03.953 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 500 null text/plain; charset=utf-8 859.8797ms
2025-09-09 12:25:43.159 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - application/json 157
2025-09-09 12:25:43.174 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:43.187 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:25:43.457 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:25:43.469 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:25:43.480 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 277.2287ms
2025-09-09 12:25:43.483 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:43.486 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - 404 null application/json; charset=utf-8 326.5501ms
2025-09-09 12:25:56.685 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - null null
2025-09-09 12:25:56.690 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:56.696 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartById", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:25:56.711 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:25:56.715 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:25:56.716 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi) in 16.8947ms
2025-09-09 12:25:56.718 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:25:56.720 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - 404 null application/json; charset=utf-8 35.4419ms
2025-09-09 12:28:02.944 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:31:15.329 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:31:15.645 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:31:16.189 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:31:16.191 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:31:16.194 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:31:16.197 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:31:20.463 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 12:31:20.660 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:31:20.711 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:31:24.342 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (120ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:31:24.423 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:31:24.462 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 3739.7562ms
2025-09-09 12:31:24.468 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:31:24.492 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 404 null application/json; charset=utf-8 4031.4582ms
2025-09-09 12:31:41.841 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:31:41.869 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:31:41.890 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:31:42.239 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:31:42.307 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:31:42.362 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:31:42.422 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 526.7914ms
2025-09-09 12:31:42.426 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:31:42.431 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 589.1368ms
2025-09-09 12:36:05.014 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:37:36.723 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:37:37.217 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:37:37.526 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:37:37.533 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:37:37.537 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:37:37.546 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:37:43.038 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:37:43.293 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:37:43.392 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:37:49.334 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:37:49.644 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:37:49.709 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:37:49.838 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 6430.1853ms
2025-09-09 12:37:49.844 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:37:49.886 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 6851.2494ms
2025-09-09 12:38:11.520 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 12:38:11.528 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:38:11.537 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:38:11.722 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:38:11.937 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 12:38:11.941 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 398.5481ms
2025-09-09 12:38:11.947 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:38:11.952 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 432.3252ms
2025-09-09 12:38:57.306 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:38:57.316 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:38:57.325 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:38:57.455 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:38:57.464 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:38:57.470 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:38:57.474 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 141.9294ms
2025-09-09 12:38:57.478 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:38:57.481 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 173.9936ms
2025-09-09 12:40:56.747 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:42:46.420 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:42:46.608 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:42:46.729 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:42:46.733 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:42:46.735 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:42:46.737 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:42:50.763 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 12:42:50.915 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:42:50.953 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:42:52.273 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:42:52.427 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse'.
2025-09-09 12:42:52.470 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 1510.9288ms
2025-09-09 12:42:52.475 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:42:52.492 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 1730.2562ms
2025-09-09 12:43:24.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:43:24.065 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:43:24.072 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:43:24.148 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:43:24.173 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:43:24.183 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:43:24.203 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 129.1056ms
2025-09-09 12:43:24.206 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:43:24.209 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 149.7717ms
2025-09-09 12:46:38.481 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:46:45.945 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:46:46.107 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:46:46.211 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:46:46.214 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:46:46.220 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:46:46.223 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:47:01.181 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:47:01.239 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:47:01.257 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:47:02.348 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:47:02.472 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:47:02.502 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:47:02.550 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1284.6861ms
2025-09-09 12:47:02.554 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:47:02.565 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 1385.1566ms
2025-09-09 12:47:07.986 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 12:47:07.992 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:47:07.998 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:47:08.077 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:47:08.180 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Users.GetUser.GetUserResult'.
2025-09-09 12:47:08.186 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 186.3952ms
2025-09-09 12:47:08.189 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:47:08.191 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 204.5801ms
2025-09-09 12:48:36.238 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 12:50:28.444 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 12:50:28.627 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 12:50:28.715 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 12:50:28.718 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 12:50:28.721 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 12:50:28.723 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 12:50:33.183 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - null null
2025-09-09 12:50:33.284 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:50:33.370 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(Int32, Int32, System.String, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:50:34.617 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Users" AS u
2025-09-09 12:50:34.764 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
ORDER BY u."Email" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:50:34.803 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.WebApi.Features.Users.GetUser.GetUserResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:50:34.865 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi) in 1487.4485ms
2025-09-09 12:50:34.869 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetAllUsers (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:50:34.881 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/users?_page=1&_size=10&_order=username%20desc,email%20desc - 200 null application/json; charset=utf-8 1698.1268ms
2025-09-09 12:50:47.056 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - null null
2025-09-09 12:50:47.062 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:50:47.068 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.Guid, System.Threading.CancellationToken) on controller Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:50:47.160 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:50:47.274 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Users.GetUser.GetUserResult'.
2025-09-09 12:50:47.280 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi) in 209.2388ms
2025-09-09 12:50:47.282 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Users.UsersController.GetUser (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:50:47.285 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/Users/b46c2344-0fb3-40e3-9ffa-83155e16b36a - 200 null application/json; charset=utf-8 229.1325ms
2025-09-09 12:51:14.218 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 12:51:14.223 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:14.238 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:51:14.357 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:51:14.406 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 12:51:14.410 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:51:14.413 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 170.9818ms
2025-09-09 12:51:14.415 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:14.416 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 404 null application/json; charset=utf-8 198.1572ms
2025-09-09 12:51:24.414 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 12:51:24.417 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:24.422 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:51:24.440 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 12:51:24.456 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 12:51:24.465 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 12:51:24.474 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 49.7913ms
2025-09-09 12:51:24.476 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:24.479 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 65.0601ms
2025-09-09 12:51:36.397 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 12:51:36.400 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:36.401 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:51:36.408 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:51:36.414 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 12:51:36.439 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 12:51:36.443 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:51:36.444 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 41.248ms
2025-09-09 12:51:36.450 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:36.451 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 404 null application/json; charset=utf-8 54.7119ms
2025-09-09 12:51:51.531 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 12:51:51.534 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:51.535 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:51:51.543 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 12:51:51.549 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 12:51:51.553 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 12:51:51.734 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Carts" ("Id", "Date", "UserId")
VALUES (@p0, @p1, @p2);
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p3, @p4, @p5)
RETURNING "Id";
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p6, @p7, @p8)
RETURNING "Id";
2025-09-09 12:51:51.764 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedAtActionResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 12:51:51.789 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 252.1672ms
2025-09-09 12:51:51.792 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:51:51.795 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 201 null application/json; charset=utf-8 263.0229ms
2025-09-09 12:52:29.927 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - null null
2025-09-09 12:52:29.929 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:29.933 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartById", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:52:29.993 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:52:29.996 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:52:29.997 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi) in 62.2515ms
2025-09-09 12:52:29.998 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:29.999 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - 404 null application/json; charset=utf-8 72.3705ms
2025-09-09 12:52:34.783 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - null null
2025-09-09 12:52:34.787 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:34.790 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartById", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:52:34.799 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:52:34.811 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 12:52:34.815 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi) in 21.3322ms
2025-09-09 12:52:34.816 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:34.818 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 200 null application/json; charset=utf-8 35.3525ms
2025-09-09 12:52:47.403 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 12:52:47.407 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:47.410 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:52:47.424 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 12:52:47.442 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 12:52:47.449 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 12:52:47.455 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 42.004ms
2025-09-09 12:52:47.457 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:52:47.459 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 56.1443ms
2025-09-09 12:53:26.403 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - application/json 157
2025-09-09 12:53:26.406 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:26.409 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:53:26.438 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:53:26.441 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:53:26.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 31.5036ms
2025-09-09 12:53:26.444 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:26.448 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/b1a7e2c0-1234-4f56-9876-abcdef123456 - 404 null application/json; charset=utf-8 44.5277ms
2025-09-09 12:53:39.946 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 157
2025-09-09 12:53:39.951 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:39.953 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:53:39.959 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:53:40.043 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 87.7524ms
2025-09-09 12:53:40.048 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:40.092 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 500 null text/plain; charset=utf-8 145.7717ms
2025-09-09 12:53:55.856 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a98 - application/json 157
2025-09-09 12:53:55.860 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:55.864 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 12:53:55.887 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 12:53:55.892 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 12:53:55.895 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 21.3033ms
2025-09-09 12:53:55.898 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 12:53:55.901 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a98 - 404 null application/json; charset=utf-8 45.168ms
2025-09-09 14:24:50.344 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 14:25:16.938 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 14:25:17.206 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 14:25:17.370 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 14:25:17.373 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 14:25:17.375 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 14:25:17.378 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 14:25:47.945 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 14:25:47.999 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:25:48.024 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:25:49.185 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 14:25:49.343 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 14:25:49.411 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 14:25:49.442 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 1412.1313ms
2025-09-09 14:25:49.447 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:25:49.458 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 1515.3726ms
2025-09-09 14:26:57.312 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:26:57.317 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:26:57.328 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:26:57.497 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (52ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:26:57.504 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 174.0022ms
2025-09-09 14:26:57.505 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:26:57.528 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 500 null text/plain; charset=utf-8 215.8492ms
2025-09-09 14:30:04.140 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 14:30:14.389 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 14:30:14.672 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 14:30:14.796 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 14:30:14.798 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 14:30:14.799 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 14:30:14.801 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 14:30:17.626 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:30:17.760 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:17.800 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:30:19.941 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (155ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:30:19.994 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:30:20.019 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 2209.1665ms
2025-09-09 14:30:20.025 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:20.040 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 400 null application/json; charset=utf-8 2415.3283ms
2025-09-09 14:30:34.342 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a96 - application/json 267
2025-09-09 14:30:34.346 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:34.348 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:30:34.452 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (41ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:30:34.511 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:30:34.515 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 165.6421ms
2025-09-09 14:30:34.518 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:34.520 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a96 - 400 null application/json; charset=utf-8 178.11ms
2025-09-09 14:30:56.336 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a95 - application/json 267
2025-09-09 14:30:56.341 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:56.342 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:30:56.415 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:30:56.420 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:30:56.422 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 78.4349ms
2025-09-09 14:30:56.425 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:30:56.427 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a95 - 400 null application/json; charset=utf-8 90.8185ms
2025-09-09 14:31:53.807 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 14:32:00.394 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 14:32:00.654 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 14:32:00.910 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 14:32:00.913 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 14:32:00.916 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 14:32:00.919 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 14:32:05.937 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a96 - application/json 267
2025-09-09 14:32:06.006 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:06.031 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:32:07.585 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (51ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:32:07.615 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:32:07.629 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 1588.9878ms
2025-09-09 14:32:07.634 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:07.648 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a96 - 404 null application/json; charset=utf-8 1712.1103ms
2025-09-09 14:32:18.311 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:32:18.316 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:18.318 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:32:18.341 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:32:18.516 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (48ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:32:18.524 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:32:18.530 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 210.6011ms
2025-09-09 14:32:18.532 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:18.534 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 400 null application/json; charset=utf-8 223.1071ms
2025-09-09 14:32:25.204 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:32:25.210 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:25.211 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:32:25.279 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:32:25.284 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:32:25.287 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:32:25.289 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 76.0233ms
2025-09-09 14:32:25.291 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:32:25.293 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 400 null application/json; charset=utf-8 88.6762ms
2025-09-09 14:34:37.692 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:34:37.745 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:37.746 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:34:37.757 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:34:37.929 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:34:37.932 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:34:37.933 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 184.0893ms
2025-09-09 14:34:37.935 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:37.936 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 400 null application/json; charset=utf-8 243.981ms
2025-09-09 14:34:51.557 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - application/json 267
2025-09-09 14:34:51.561 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:51.562 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.UpdateCart.UpdateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:34:51.570 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:34:51.580 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__productIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id"
FROM "Products" AS p
WHERE p."Id" = ANY (@__productIds_0)
2025-09-09 14:34:51.709 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p4='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Int32), @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CartProduct"
WHERE "CartId" = @p0 AND "Id" = @p1;
UPDATE "Carts" SET "Date" = @p2, "UserId" = @p3
WHERE "Id" = @p4;
DELETE FROM "CartProduct"
WHERE "CartId" = @p5 AND "Id" = @p6;
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p7, @p8, @p9)
RETURNING "Id";
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p10, @p11, @p12)
RETURNING "Id";
2025-09-09 14:34:51.739 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 14:34:51.765 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi) in 198.81ms
2025-09-09 14:34:51.767 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.UpdateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:51.769 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 200 null application/json; charset=utf-8 211.9637ms
2025-09-09 14:34:59.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - null null
2025-09-09 14:34:59.622 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:59.626 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartById", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:34:59.641 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:34:59.647 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 14:34:59.649 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi) in 19.8192ms
2025-09-09 14:34:59.651 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:34:59.652 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 200 null application/json; charset=utf-8 36.3765ms
2025-09-09 14:35:02.968 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 14:35:02.971 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:02.975 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:35:03.013 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 14:35:03.033 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 14:35:03.038 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 14:35:03.043 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 66.9755ms
2025-09-09 14:35:03.045 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:03.047 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 78.7062ms
2025-09-09 14:35:22.311 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 14:35:22.314 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:22.318 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:35:22.349 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:35:22.352 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 32.8939ms
2025-09-09 14:35:22.355 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:22.357 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 500 null application/json; charset=utf-8 46.6ms
2025-09-09 14:35:37.686 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 14:35:37.694 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:37.699 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:35:37.729 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 14:35:37.787 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 14:35:37.794 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:35:37.796 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 94.465ms
2025-09-09 14:35:37.800 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:37.801 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 404 null application/json; charset=utf-8 114.4904ms
2025-09-09 14:35:48.533 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 14:35:48.535 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:48.537 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:35:48.547 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 14:35:48.551 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:35:48.552 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 14.1122ms
2025-09-09 14:35:48.554 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:35:48.555 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 404 null application/json; charset=utf-8 22.4621ms
2025-09-09 14:36:04.193 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts - application/json 235
2025-09-09 14:36:04.199 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:04.201 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCart(Ambev.DeveloperEvaluation.WebApi.Features.Carts.CreateCart.CreateCartRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:36:04.208 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."Password", u."Phone", u."Role", u."Status", u."UpdatedAt", u."Username", u."Address_City", u."Address_Number", u."Address_Street", u."Address_Zipcode", u."Address_Geolocation_Lat", u."Address_Geolocation_Long", u."Name_Firstname", u."Name_Lastname"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-09-09 14:36:04.214 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 14:36:04.241 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Id" = @__get_Item_0
LIMIT 1
2025-09-09 14:36:04.283 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (DbType = Int32), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Carts" ("Id", "Date", "UserId")
VALUES (@p0, @p1, @p2);
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p3, @p4, @p5)
RETURNING "Id";
INSERT INTO "CartProduct" ("CartId", "ProductId", "Quantity")
VALUES (@p6, @p7, @p8)
RETURNING "Id";
2025-09-09 14:36:04.293 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing CreatedAtActionResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 14:36:04.312 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi) in 107.711ms
2025-09-09 14:36:04.315 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CreateCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:04.317 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts - 201 null application/json; charset=utf-8 123.8969ms
2025-09-09 14:36:11.304 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 14:36:11.306 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:11.307 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:36:11.314 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 14:36:11.319 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 14:36:11.327 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 14:36:11.329 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 19.7002ms
2025-09-09 14:36:11.331 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:11.333 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 28.7413ms
2025-09-09 14:36:22.932 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e04 - null null
2025-09-09 14:36:22.935 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:22.938 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCart(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:36:22.953 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:36:22.960 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:36:22.963 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi) in 23.3786ms
2025-09-09 14:36:22.965 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:22.966 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e04 - 404 null application/json; charset=utf-8 34.0048ms
2025-09-09 14:36:29.435 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e05 - null null
2025-09-09 14:36:29.438 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:29.439 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCart(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:36:29.446 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:36:29.462 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Guid), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CartProduct"
WHERE "CartId" = @p0 AND "Id" = @p1;
DELETE FROM "CartProduct"
WHERE "CartId" = @p2 AND "Id" = @p3;
DELETE FROM "Carts"
WHERE "Id" = @p4;
2025-09-09 14:36:29.471 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponse'.
2025-09-09 14:36:29.473 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi) in 32.2545ms
2025-09-09 14:36:29.474 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:29.477 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e05 - 200 null application/json; charset=utf-8 42.4039ms
2025-09-09 14:36:35.309 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 14:36:35.313 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:35.314 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:36:35.318 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 14:36:35.322 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 14:36:35.325 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 14:36:35.327 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 11.5682ms
2025-09-09 14:36:35.332 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:36:35.334 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 24.8737ms
2025-09-09 14:44:22.759 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 14:44:57.263 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 14:44:57.466 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 14:44:57.563 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 14:44:57.564 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 14:44:57.566 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 14:44:57.569 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 14:45:09.255 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 14:45:09.423 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:09.469 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:10.603 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:10.711 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:10.787 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:10.828 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 1354.3843ms
2025-09-09 14:45:10.832 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:10.841 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 1586.8694ms
2025-09-09 14:45:17.414 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20asc - null null
2025-09-09 14:45:17.421 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:17.422 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:17.446 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:17.458 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Price"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:17.463 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:17.465 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 41.0053ms
2025-09-09 14:45:17.467 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:17.469 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=price%20asc - 200 null application/json; charset=utf-8 54.5017ms
2025-09-09 14:45:25.062 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=title%20asc - null null
2025-09-09 14:45:25.067 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:25.068 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:25.131 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:25.147 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Title"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:25.151 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:25.152 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 83.0278ms
2025-09-09 14:45:25.154 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:25.155 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=title%20asc - 200 null application/json; charset=utf-8 92.8049ms
2025-09-09 14:45:31.108 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=title%20desc - null null
2025-09-09 14:45:31.111 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:31.112 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:31.119 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:31.129 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Title" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:31.134 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:31.136 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 22.2755ms
2025-09-09 14:45:31.138 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:31.140 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=title%20desc - 200 null application/json; charset=utf-8 31.4966ms
2025-09-09 14:45:54.318 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20desc - null null
2025-09-09 14:45:54.323 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:54.325 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:54.334 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:54.347 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Category" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:54.353 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:54.355 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 25.8942ms
2025-09-09 14:45:54.357 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:54.359 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20desc - 200 null application/json; charset=utf-8 40.6859ms
2025-09-09 14:45:57.597 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - null null
2025-09-09 14:45:57.601 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:57.603 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:45:57.611 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:45:57.620 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Category"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:45:57.623 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:45:57.625 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 19.2172ms
2025-09-09 14:45:57.626 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:45:57.627 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - 200 null application/json; charset=utf-8 30.1447ms
2025-09-09 14:46:09.184 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e05 - null null
2025-09-09 14:46:09.189 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:09.196 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "DeleteCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCart(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:46:09.290 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__get_Item_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 14:46:09.296 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 14:46:09.301 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi) in 102.2477ms
2025-09-09 14:46:09.304 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.DeleteCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:09.435 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 DELETE http://localhost:5119/api/carts/f0521480-795e-4b20-89ef-88118f808e05 - 404 null application/json; charset=utf-8 250.1767ms
2025-09-09 14:46:19.446 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 14:46:19.450 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:19.459 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:46:19.486 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 14:46:19.505 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 14:46:19.523 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:46:19.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 65.4585ms
2025-09-09 14:46:19.529 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:19.530 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 84.2817ms
2025-09-09 14:46:24.194 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20asc - null null
2025-09-09 14:46:24.199 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:24.201 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:46:24.209 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 14:46:24.220 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price"
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 14:46:24.224 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:46:24.225 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 21.0788ms
2025-09-09 14:46:24.227 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:24.229 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20asc - 200 null application/json; charset=utf-8 35.2064ms
2025-09-09 14:46:29.160 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 14:46:29.164 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:29.165 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:46:29.173 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 14:46:29.179 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 14:46:29.182 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:46:29.183 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 16.6935ms
2025-09-09 14:46:29.185 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:46:29.186 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 25.6869ms
2025-09-09 14:50:36.964 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 181
2025-09-09 14:50:36.968 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:50:36.972 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:50:37.121 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?', @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Category" = @p0, "Description" = @p1, "Image" = @p2, "Price" = @p3, "Title" = @p4, "Rating_Count" = @p5, "Rating_Rate" = @p6
WHERE "Id" = @p7;
2025-09-09 14:50:37.129 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiResponseWithData`1[[Ambev.DeveloperEvaluation.WebApi.Features.Products.UpdateProduct.UpdateProductResponse, Ambev.DeveloperEvaluation.WebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:50:37.135 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi) in 160.8854ms
2025-09-09 14:50:37.137 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.UpdateProduct (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:50:37.139 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/products/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 200 null application/json; charset=utf-8 174.7465ms
2025-09-09 14:50:47.677 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - null null
2025-09-09 14:50:47.681 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:50:47.685 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartsPaginated", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartsPaginated(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:50:47.698 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Carts" AS c
2025-09-09 14:50:47.716 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    ORDER BY c."UserId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."UserId", t."Id", c0."CartId"
2025-09-09 14:50:47.747 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.GetCart.GetCartsPaginatedResponse'.
2025-09-09 14:50:47.752 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi) in 65.0112ms
2025-09-09 14:50:47.753 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartsPaginated (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:50:47.755 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts?page=1&pageSize=10&order=userId%20asc - 200 null application/json; charset=utf-8 77.3185ms
2025-09-09 14:51:02.878 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - null null
2025-09-09 14:51:02.883 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:51:02.884 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:51:02.889 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 14:51:02.895 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Category"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 14:51:02.900 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:51:02.902 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 16.2671ms
2025-09-09 14:51:02.905 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:51:02.907 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - 200 null application/json; charset=utf-8 28.9881ms
2025-09-09 14:51:15.448 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - null null
2025-09-09 14:51:15.458 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:51:15.463 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetProductsByCategory", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByCategory(System.String, Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 14:51:15.476 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__category_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
WHERE p."Category" = @__category_0
2025-09-09 14:51:15.484 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__category_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
WHERE p."Category" = @__category_0
ORDER BY p."Price" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-09-09 14:51:15.490 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 14:51:15.493 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi) in 23.3554ms
2025-09-09 14:51:15.495 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetProductsByCategory (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 14:51:15.496 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products/category/Carro?page=1&pageSize=10&order=price%20desc - 200 null application/json; charset=utf-8 48.0239ms
2025-09-09 15:08:55.469 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 16:00:43.477 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 16:00:43.605 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 16:00:43.670 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 16:00:43.673 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 16:00:43.674 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 16:00:43.675 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 16:00:52.336 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - null null
2025-09-09 16:00:52.394 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:00:52.411 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCartById", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCartById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:00:53.558 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", c0."CartId", c0."Id", c0."ProductId", c0."Quantity"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "CartProduct" AS c0 ON t."Id" = c0."CartId"
ORDER BY t."Id", c0."CartId"
2025-09-09 16:00:53.646 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Cart'.
2025-09-09 16:00:53.695 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi) in 1275.4476ms
2025-09-09 16:00:53.701 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.GetCartById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:00:53.768 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97 - 200 null application/json; charset=utf-8 1432.2906ms
2025-09-09 16:01:20.855 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - null 0
2025-09-09 16:01:20.862 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:01:20.870 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:01:20.932 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-09 16:01:21.023 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 149.6753ms
2025-09-09 16:01:21.026 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:01:21.028 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 415 null application/problem+json; charset=utf-8 173.3862ms
2025-09-09 16:02:18.786 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - application/json 32
2025-09-09 16:02:18.793 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:02:18.794 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:02:18.869 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", t0."CartId", t0."Id", t0."ProductId", t0."Quantity", t0."Id0", t0."Category", t0."Description", t0."Image", t0."Price", t0."Title", t0."Rating_Count", t0."Rating_Rate"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."CartId", c0."Id", c0."ProductId", c0."Quantity", p."Id" AS "Id0", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
    FROM "CartProduct" AS c0
    LEFT JOIN "Products" AS p ON c0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."CartId"
ORDER BY t."Id", t0."CartId", t0."Id"
2025-09-09 16:02:19.016 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("Id", "Branch", "Date", "Total", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Number";
2025-09-09 16:02:19.032 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Sale'.
2025-09-09 16:02:19.036 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 238.7876ms
2025-09-09 16:02:19.039 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:02:19.041 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 200 null application/json; charset=utf-8 255.3751ms
2025-09-09 16:02:42.620 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - null null
2025-09-09 16:02:42.623 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:02:42.627 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAllProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts(Int32, Int32, System.String) on controller Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:02:42.824 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-09-09 16:02:42.842 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
FROM "Products" AS p
ORDER BY p."Category"
LIMIT @__p_1 OFFSET @__p_0
2025-09-09 16:02:42.847 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.PaginatedResponse`1[[Ambev.DeveloperEvaluation.Domain.Entities.Product, Ambev.DeveloperEvaluation.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-09 16:02:42.859 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi) in 230.4397ms
2025-09-09 16:02:42.861 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Products.ProductsController.GetAllProducts (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:02:42.864 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/products?page=1&pageSize=10&order=category%20asc - 200 null application/json; charset=utf-8 243.4936ms
2025-09-09 16:16:45.731 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 16:27:45.918 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 16:27:46.155 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 16:27:46.260 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 16:27:46.263 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 16:27:46.265 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 16:27:46.266 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 16:32:22.751 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 16:32:22.811 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:32:22.833 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:32:22.936 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-09 16:32:22.972 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi) in 133.273ms
2025-09-09 16:32:22.980 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:32:22.985 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 400 null application/problem+json; charset=utf-8 234.4909ms
2025-09-09 16:32:31.799 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/1 - null null
2025-09-09 16:32:31.805 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:32:31.807 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetById", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:32:31.815 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-09 16:32:31.817 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi) in 7.4016ms
2025-09-09 16:32:31.818 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetById (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:32:31.820 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/1 - 400 null application/problem+json; charset=utf-8 21.2395ms
2025-09-09 16:34:08.497 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 16:34:16.201 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 16:34:16.668 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 16:34:16.783 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 16:34:16.785 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 16:34:16.788 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 16:34:16.790 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 16:34:23.312 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 16:34:23.391 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:34:23.531 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:34:24.811 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 1272.4548ms
2025-09-09 16:34:24.816 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:34:24.842 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 500 null text/plain; charset=utf-8 1530.2865ms
2025-09-09 16:39:05.820 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 16:40:58.082 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 16:40:58.275 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 16:40:58.367 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 16:40:58.369 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 16:40:58.370 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 16:40:58.372 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 16:41:01.622 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 16:41:01.685 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:41:01.711 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 16:41:03.032 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (53ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 16:41:03.060 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 1342.2549ms
2025-09-09 16:41:03.064 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 16:41:03.095 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 500 null text/plain; charset=utf-8 1473.8119ms
2025-09-09 16:43:41.387 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:10:03.920 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:10:04.104 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:10:04.200 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:10:04.202 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:10:04.204 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:10:04.207 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:10:09.566 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 17:10:09.647 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:09.677 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:10:11.484 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (65ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:10:11.520 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 1834.6673ms
2025-09-09 17:10:11.526 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:11.565 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 500 null text/plain; charset=utf-8 2000.4832ms
2025-09-09 17:10:19.739 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/1 - null null
2025-09-09 17:10:19.745 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:19.746 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:10:19.777 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:10:19.847 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:10:19.888 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 139.4906ms
2025-09-09 17:10:19.892 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:19.894 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/1 - 200 null application/json; charset=utf-8 155.1178ms
2025-09-09 17:10:27.141 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 17:10:27.146 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:27.148 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:10:27.210 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:10:27.213 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 63.3647ms
2025-09-09 17:10:27.215 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:10:27.218 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 500 null text/plain; charset=utf-8 77.1752ms
2025-09-09 17:13:15.026 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:13:25.087 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:13:25.318 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:13:25.427 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:13:25.430 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:13:25.432 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:13:25.433 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:13:28.766 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 17:13:29.011 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:13:29.092 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:13:31.104 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (66ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:13:31.148 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 17:13:31.174 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 2072.7218ms
2025-09-09 17:13:31.181 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:13:31.205 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 404 null application/json; charset=utf-8 2442.1949ms
2025-09-09 17:13:37.942 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/1 - null null
2025-09-09 17:13:37.954 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:13:37.956 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:13:38.000 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:13:38.107 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:13:38.150 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 189.6019ms
2025-09-09 17:13:38.153 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:13:38.155 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/1 - 200 null application/json; charset=utf-8 212.9672ms
2025-09-09 17:14:26.044 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:22:28.206 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:22:28.501 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:22:28.643 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:22:28.646 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:22:28.648 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:22:28.650 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:22:36.381 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - application/json 32
2025-09-09 17:22:36.434 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:22:36.457 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:22:37.632 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", t0."CartId", t0."Id", t0."ProductId", t0."Quantity", t0."Id0", t0."Category", t0."Description", t0."Image", t0."Price", t0."Title", t0."Rating_Count", t0."Rating_Rate"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."CartId", c0."Id", c0."ProductId", c0."Quantity", p."Id" AS "Id0", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
    FROM "CartProduct" AS c0
    LEFT JOIN "Products" AS p ON c0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."CartId"
ORDER BY t."Id", t0."CartId", t0."Id"
2025-09-09 17:22:37.885 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?' (DbType = Int32), @p19='?' (DbType = Guid), @p20='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("Id", "Branch", "Date", "Total", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Number";
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-09-09 17:22:37.920 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Sale'.
2025-09-09 17:22:37.961 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 1498.7317ms
2025-09-09 17:22:37.965 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:22:37.997 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 500 null text/plain; charset=utf-8 1617.628ms
2025-09-09 17:23:44.648 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:23:51.065 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:23:51.237 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:23:51.325 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:23:51.328 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:23:51.329 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:23:51.330 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:23:54.190 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - application/json 32
2025-09-09 17:23:54.414 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:23:54.472 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:23:56.265 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", t0."CartId", t0."Id", t0."ProductId", t0."Quantity", t0."Id0", t0."Category", t0."Description", t0."Image", t0."Price", t0."Title", t0."Rating_Count", t0."Rating_Rate"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."CartId", c0."Id", c0."ProductId", c0."Quantity", p."Id" AS "Id0", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
    FROM "CartProduct" AS c0
    LEFT JOIN "Products" AS p ON c0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."CartId"
ORDER BY t."Id", t0."CartId", t0."Id"
2025-09-09 17:23:56.639 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?' (DbType = Int32), @p19='?' (DbType = Guid), @p20='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("Id", "Branch", "Date", "Total", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Number";
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-09-09 17:23:56.691 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Domain.Entities.Sale'.
2025-09-09 17:23:56.752 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 2256.9869ms
2025-09-09 17:23:56.756 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:23:56.814 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 500 null text/plain; charset=utf-8 2625.402ms
2025-09-09 17:26:39.077 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:30:06.692 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:30:07.115 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:30:07.347 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:30:07.350 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:30:07.354 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:30:07.357 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:30:46.986 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:32:44.194 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:32:44.432 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:32:44.538 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:32:44.542 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:32:44.545 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:32:44.548 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:32:48.092 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - application/json 32
2025-09-09 17:32:48.353 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:32:48.388 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:32:50.156 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", t0."CartId", t0."Id", t0."ProductId", t0."Quantity", t0."Id0", t0."Category", t0."Description", t0."Image", t0."Price", t0."Title", t0."Rating_Count", t0."Rating_Rate"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."CartId", c0."Id", c0."ProductId", c0."Quantity", p."Id" AS "Id0", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
    FROM "CartProduct" AS c0
    LEFT JOIN "Products" AS p ON c0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."CartId"
ORDER BY t."Id", t0."CartId", t0."Id"
2025-09-09 17:32:50.486 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?' (DbType = Int32), @p19='?' (DbType = Guid), @p20='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("Id", "Branch", "Date", "Total", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Number";
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-09-09 17:32:50.528 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartResponse'.
2025-09-09 17:32:50.569 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 2173.6678ms
2025-09-09 17:32:50.574 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:32:50.593 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 200 null application/json; charset=utf-8 2506.5128ms
2025-09-09 17:33:37.242 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/1 - null null
2025-09-09 17:33:37.254 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:33:37.279 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:33:37.335 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:33:37.342 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:33:37.355 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 71.7657ms
2025-09-09 17:33:37.358 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:33:37.362 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/1 - 200 null application/json; charset=utf-8 119.7652ms
2025-09-09 17:34:47.943 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/2 - null null
2025-09-09 17:34:47.951 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:34:47.953 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:34:48.016 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:34:48.021 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:34:48.023 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 67.5917ms
2025-09-09 17:34:48.025 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:34:48.027 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/2 - 200 null application/json; charset=utf-8 83.215ms
2025-09-09 17:34:56.628 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:34:56.634 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:34:56.635 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:34:56.642 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:34:56.646 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:34:56.648 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 10.87ms
2025-09-09 17:34:56.651 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:34:56.653 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 24.5153ms
2025-09-09 17:37:19.964 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - application/json 15
2025-09-09 17:37:19.968 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:37:19.972 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:37:19.990 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
FROM "Sales" AS s
WHERE s."Id" = @__saleId_0
LIMIT 1
2025-09-09 17:37:19.994 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 17:37:19.997 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 23.2475ms
2025-09-09 17:37:19.998 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:37:20.000 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - 404 null application/json; charset=utf-8 35.6274ms
2025-09-09 17:38:09.867 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 17:38:09.871 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:38:09.872 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:38:09.887 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
FROM "Sales" AS s
WHERE s."Id" = @__saleId_0
LIMIT 1
2025-09-09 17:38:09.892 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 17:38:09.894 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 19.9145ms
2025-09-09 17:38:09.898 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:38:09.900 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 404 null application/json; charset=utf-8 31.9211ms
2025-09-09 17:38:26.178 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:49:25.267 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:49:25.461 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:49:25.553 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:49:25.556 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:49:25.558 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:49:25.561 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:49:28.567 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:49:28.630 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:49:28.651 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:49:30.127 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (52ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:49:30.249 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:49:30.295 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 1636.6821ms
2025-09-09 17:49:30.299 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:49:30.309 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 1743.0707ms
2025-09-09 17:49:59.867 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - application/json 15
2025-09-09 17:49:59.872 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:49:59.879 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:49:59.929 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
FROM "Sales" AS s
WHERE s."Id" = @__saleId_0
LIMIT 1
2025-09-09 17:49:59.934 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 17:49:59.937 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 55.8068ms
2025-09-09 17:49:59.939 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:49:59.941 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - 404 null application/json; charset=utf-8 74.4398ms
2025-09-09 17:50:05.001 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:51:44.430 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:51:44.618 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:51:44.886 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:51:44.936 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:51:44.943 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:51:44.945 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:51:47.784 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - application/json 15
2025-09-09 17:51:47.846 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:51:47.873 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:51:49.589 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (51ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:51:49.714 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 17:51:49.727 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1846.1685ms
2025-09-09 17:51:49.732 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:51:49.743 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/3821c395-0bc4-4013-a500-252237323621 - 404 null application/json; charset=utf-8 1960.3123ms
2025-09-09 17:52:03.362 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:52:03.370 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:03.376 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:52:03.421 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:52:03.427 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:52:03.451 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 73.1606ms
2025-09-09 17:52:03.454 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:03.456 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 93.7795ms
2025-09-09 17:52:13.516 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 17:52:13.522 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:13.523 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:52:13.588 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:52:13.679 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 17:52:13.699 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 17:52:13.704 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 178.4991ms
2025-09-09 17:52:13.706 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:13.707 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 191.2816ms
2025-09-09 17:52:24.454 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:52:24.533 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:24.535 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:52:24.548 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:52:24.554 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:52:24.557 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 17.8495ms
2025-09-09 17:52:24.559 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:52:24.561 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 106.7261ms
2025-09-09 17:53:28.852 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 17:53:50.500 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 17:53:50.623 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 17:53:50.692 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 17:53:50.695 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 17:53:50.697 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 17:53:50.699 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 17:53:59.148 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 17:53:59.269 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:53:59.331 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:54:00.563 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (49ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:54:00.763 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "Branch" = @p0, "Date" = @p1, "Number" = @p2, "Total" = @p3, "UserId" = @p4
WHERE "Id" = @p5;
2025-09-09 17:54:00.778 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 17:54:00.794 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1454.6612ms
2025-09-09 17:54:00.799 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:54:00.811 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 1663.3741ms
2025-09-09 17:54:39.098 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:54:39.110 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:54:39.116 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:54:39.167 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:54:39.176 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:54:39.202 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 83.6473ms
2025-09-09 17:54:39.206 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:54:39.211 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 113.1107ms
2025-09-09 17:54:55.462 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 16
2025-09-09 17:54:55.466 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:54:55.468 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:54:55.543 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:54:55.558 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 17:54:55.573 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 17:54:55.575 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 105.4342ms
2025-09-09 17:54:55.577 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:54:55.579 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 117.47ms
2025-09-09 17:55:35.443 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:55:35.448 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:55:35.449 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:55:35.457 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:55:35.461 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:55:35.462 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 10.4732ms
2025-09-09 17:55:35.464 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:55:35.467 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 23.4225ms
2025-09-09 17:55:52.471 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 16
2025-09-09 17:55:52.474 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:55:52.475 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:55:52.484 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:55:52.491 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 17:55:52.499 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 17:55:52.500 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 23.0098ms
2025-09-09 17:55:52.502 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:55:52.504 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 32.1235ms
2025-09-09 17:56:06.520 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 17:56:06.523 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:56:06.525 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:56:06.529 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:56:06.532 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 17:56:06.534 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 7.4596ms
2025-09-09 17:56:06.535 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:56:06.537 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 16.1325ms
2025-09-09 17:56:13.244 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 16
2025-09-09 17:56:13.250 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:56:13.252 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:56:13.267 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:56:13.274 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 13.0352ms
2025-09-09 17:56:13.277 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:56:13.303 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 500 null text/plain; charset=utf-8 58.7593ms
2025-09-09 17:57:30.837 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 17:57:30.841 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:57:30.843 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:57:30.848 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:57:30.852 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 7.6224ms
2025-09-09 17:57:30.854 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:57:30.861 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 500 null text/plain; charset=utf-8 23.3136ms
2025-09-09 17:58:25.454 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 17:58:25.458 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:58:25.459 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:58:25.464 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:58:25.467 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 6.4435ms
2025-09-09 17:58:25.469 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:58:25.472 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 500 null text/plain; charset=utf-8 17.5031ms
2025-09-09 17:58:31.615 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 16
2025-09-09 17:58:31.618 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:58:31.619 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 17:58:31.625 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 17:58:31.628 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 7.0955ms
2025-09-09 17:58:31.630 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 17:58:31.634 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 500 null text/plain; charset=utf-8 19.36ms
2025-09-09 18:02:06.470 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 18:02:06.730 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 18:02:06.894 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 18:02:06.896 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 18:02:06.899 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 18:02:06.901 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 18:02:15.269 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 16
2025-09-09 18:02:15.418 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:15.447 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:02:16.770 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (58ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:02:16.901 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing ObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 18:02:16.916 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1458.8399ms
2025-09-09 18:02:16.921 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:16.932 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 500 null application/json; charset=utf-8 1665.1362ms
2025-09-09 18:02:25.274 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 18:02:25.278 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:25.280 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:02:25.316 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:02:25.326 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Common.ApiErrorResponse'.
2025-09-09 18:02:25.330 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 47.4556ms
2025-09-09 18:02:25.332 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:25.335 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 400 null application/json; charset=utf-8 61.4255ms
2025-09-09 18:02:48.971 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 15
2025-09-09 18:02:49.161 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:49.165 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:02:49.266 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:02:49.361 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 18:02:49.378 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 18:02:49.381 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 212.0163ms
2025-09-09 18:02:49.384 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:49.387 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 416.1308ms
2025-09-09 18:02:52.282 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 18:02:52.288 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:52.295 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:02:52.320 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:02:52.329 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 18:02:52.359 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 62.0479ms
2025-09-09 18:02:52.362 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:02:52.365 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 82.4124ms
2025-09-09 18:03:16.492 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 18:09:26.869 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 18:09:27.069 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 18:09:27.161 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 18:09:27.164 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 18:09:27.169 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 18:09:27.171 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 18:09:36.814 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 44
2025-09-09 18:09:36.872 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:36.897 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:09:37.022 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-09 18:09:37.049 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 145.9865ms
2025-09-09 18:09:37.054 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:37.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 400 null application/problem+json; charset=utf-8 245.6167ms
2025-09-09 18:09:48.473 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 47
2025-09-09 18:09:48.481 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:48.483 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:09:49.593 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (45ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:09:49.768 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 18:09:49.788 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 18:09:49.795 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1309.3616ms
2025-09-09 18:09:49.798 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:49.805 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 1331.6249ms
2025-09-09 18:09:56.254 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 18:09:56.263 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:56.268 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:09:56.306 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:09:56.311 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 18:09:56.327 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 57.2481ms
2025-09-09 18:09:56.329 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:09:56.332 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 78.8752ms
2025-09-09 18:10:27.996 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 18:10:28.000 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:10:28.002 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:10:28.075 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:10:28.084 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p8='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0, "Quantity" = @p1
WHERE "Id" = @p2;
UPDATE "Sales" SET "Branch" = @p3, "Date" = @p4, "Number" = @p5, "Total" = @p6, "UserId" = @p7
WHERE "Id" = @p8;
2025-09-09 18:10:28.092 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 18:10:28.094 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 89.8858ms
2025-09-09 18:10:28.095 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:10:28.096 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 100.1326ms
2025-09-09 18:10:31.059 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 18:10:31.063 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:10:31.064 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 18:10:31.072 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 18:10:31.075 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 18:10:31.078 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 12.3041ms
2025-09-09 18:10:31.080 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 18:10:31.082 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 22.5289ms
2025-09-09 18:29:57.810 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 19:12:56.661 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 19:12:56.854 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 19:12:57.039 -03:00 [INF] Rebus.Internals.ConnectionManager Initializing RabbitMQ connection manager for transport with input queue "queue-sale"
2025-09-09 19:12:57.696 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Starting periodic task "CleanupTrackedErrors" with interval 00:00:10
2025-09-09 19:12:57.734 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" started
2025-09-09 19:12:57.739 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Successfully created bus instance RebusBus Rebus 1 (isDefaultBus: true)
2025-09-09 19:12:57.777 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 1
2025-09-09 19:12:57.829 -03:00 [INF] Rebus.RabbitMq.RabbitMqTransport Successfully initialized consumer for "queue-sale"
2025-09-09 19:12:57.840 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 19:12:57.842 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 19:12:57.843 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 19:12:57.845 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 19:21:40.408 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - application/json 33
2025-09-09 19:21:40.463 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:21:40.485 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CloseCart", controller = "Carts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CloseCart(System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartRequest, MediatR.IMediator) on controller Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:21:41.705 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Date", t."UserId", t0."CartId", t0."Id", t0."ProductId", t0."Quantity", t0."Id0", t0."Category", t0."Description", t0."Image", t0."Price", t0."Title", t0."Rating_Count", t0."Rating_Rate"
FROM (
    SELECT c."Id", c."Date", c."UserId"
    FROM "Carts" AS c
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT c0."CartId", c0."Id", c0."ProductId", c0."Quantity", p."Id" AS "Id0", p."Category", p."Description", p."Image", p."Price", p."Title", p."Rating_Count", p."Rating_Rate"
    FROM "CartProduct" AS c0
    LEFT JOIN "Products" AS p ON c0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."CartId"
ORDER BY t."Id", t0."CartId", t0."Id"
2025-09-09 19:21:41.963 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = Decimal), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Int32), @p11='?' (DbType = Guid), @p12='?' (DbType = Decimal), @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?' (DbType = Decimal), @p16='?' (DbType = Decimal), @p17='?' (DbType = Guid), @p18='?' (DbType = Int32), @p19='?' (DbType = Guid), @p20='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sales" ("Id", "Branch", "Date", "Total", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Number";
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO "SaleItems" ("Id", "Cancelled", "Discounts", "Price", "ProductId", "Quantity", "SaleId", "TotalPrice")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-09-09 19:21:42.067 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CloseCart.CloseCartResponse'.
2025-09-09 19:21:42.079 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleCreatedEventHandler SaleCreatedEvent recebido: SaleId="f93321ac-ca46-4912-8191-5ff4c9ecb604", CreatedAt="2025-09-09T22:21:41.8260074Z"
2025-09-09 19:21:42.094 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi) in 1603.0169ms
2025-09-09 19:21:42.098 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Carts.CartsController.CloseCart (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:21:42.102 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP POST /api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close responded 200 in 1672.9585 ms
2025-09-09 19:21:42.114 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST http://localhost:5119/api/carts/e5700eb5-4dc0-4190-8285-78dcccbb1a97/close - 200 null application/json; charset=utf-8 1706.5417ms
2025-09-09 19:23:54.094 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 0
2025-09-09 19:23:54.105 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Bus instance RebusBus Rebus 1 successfully stopped
2025-09-09 19:23:54.109 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 19:23:54.120 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Stopping periodic task "CleanupTrackedErrors"
2025-09-09 19:23:54.131 -03:00 [INF] Rebus.Internals.ConnectionManager Disposing RabbitMQ connection
2025-09-09 19:23:54.149 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" stopped
2025-09-09 19:36:04.880 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 19:36:05.183 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 19:36:05.287 -03:00 [INF] Rebus.Internals.ConnectionManager Initializing RabbitMQ connection manager for transport with input queue "queue-sale"
2025-09-09 19:36:05.600 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Starting periodic task "CleanupTrackedErrors" with interval 00:00:10
2025-09-09 19:36:05.632 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" started
2025-09-09 19:36:05.638 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Successfully created bus instance RebusBus Rebus 1 (isDefaultBus: true)
2025-09-09 19:36:05.671 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 1
2025-09-09 19:36:05.725 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 19:36:05.730 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 19:36:05.732 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 19:36:05.735 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 19:36:05.763 -03:00 [INF] Rebus.RabbitMq.RabbitMqTransport Successfully initialized consumer for "queue-sale"
2025-09-09 19:36:38.305 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 19:36:38.368 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:36:38.390 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:36:39.540 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (43ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:36:39.647 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 19:36:39.685 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 1288.9852ms
2025-09-09 19:36:39.689 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:36:39.692 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP GET /api/sales/3 responded 200 in 1358.6117 ms
2025-09-09 19:36:39.705 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 1402.7265ms
2025-09-09 19:37:13.308 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 19:37:13.314 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:37:13.324 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:37:13.390 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:37:13.501 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 19:37:13.563 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:37:13.567 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 237.1936ms
2025-09-09 19:37:13.569 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:37:13.571 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 258.8383 ms
2025-09-09 19:37:13.574 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 265.8001ms
2025-09-09 19:40:30.980 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 19:40:30.986 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:40:30.987 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:40:31.053 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:40:31.057 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 19:40:31.058 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 69.1015ms
2025-09-09 19:40:31.060 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:40:31.061 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP GET /api/sales/3 responded 200 in 78.0373 ms
2025-09-09 19:40:31.064 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 84.0771ms
2025-09-09 19:40:53.163 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 19:40:53.168 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:40:53.169 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:40:53.179 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:40:53.188 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Quantity" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 19:40:53.234 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:40:53.319 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 145.7584ms
2025-09-09 19:40:53.324 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:40:53.326 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 157.5128 ms
2025-09-09 19:40:53.329 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 166.4831ms
2025-09-09 19:41:54.932 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 19:41:54.935 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:41:54.937 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:41:54.955 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:41:54.965 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "Branch" = @p0, "Date" = @p1, "Number" = @p2, "Total" = @p3, "UserId" = @p4
WHERE "Id" = @p5;
2025-09-09 19:41:54.970 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:41:54.971 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 32.5697ms
2025-09-09 19:41:54.973 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:41:54.974 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 38.3544 ms
2025-09-09 19:41:54.977 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 44.3902ms
2025-09-09 19:42:26.476 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 0
2025-09-09 19:42:26.489 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Bus instance RebusBus Rebus 1 successfully stopped
2025-09-09 19:42:26.492 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 19:42:26.506 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Stopping periodic task "CleanupTrackedErrors"
2025-09-09 19:42:26.518 -03:00 [INF] Rebus.Internals.ConnectionManager Disposing RabbitMQ connection
2025-09-09 19:42:26.533 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" stopped
2025-09-09 19:42:41.397 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 19:42:41.629 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 19:42:41.766 -03:00 [INF] Rebus.Internals.ConnectionManager Initializing RabbitMQ connection manager for transport with input queue "queue-sale"
2025-09-09 19:42:42.004 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Starting periodic task "CleanupTrackedErrors" with interval 00:00:10
2025-09-09 19:42:42.021 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" started
2025-09-09 19:42:42.025 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Successfully created bus instance RebusBus Rebus 1 (isDefaultBus: true)
2025-09-09 19:42:42.044 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 1
2025-09-09 19:42:42.084 -03:00 [INF] Rebus.RabbitMq.RabbitMqTransport Successfully initialized consumer for "queue-sale"
2025-09-09 19:42:42.113 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 19:42:42.119 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 19:42:42.121 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 19:42:42.124 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 19:42:49.949 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 19:42:50.084 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:42:50.127 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:42:51.602 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (55ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:42:51.835 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Sales" SET "Branch" = @p0, "Date" = @p1, "Number" = @p2, "Total" = @p3, "UserId" = @p4
WHERE "Id" = @p5;
2025-09-09 19:42:51.915 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:42:51.931 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1797.0696ms
2025-09-09 19:42:51.935 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:42:51.938 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 1969.6937 ms
2025-09-09 19:42:51.956 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 2008.3934ms
2025-09-09 19:43:10.241 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 47
2025-09-09 19:43:10.246 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:43:10.248 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:43:10.279 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:43:10.299 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 19:43:10.320 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:43:10.325 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 74.9397ms
2025-09-09 19:43:10.329 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:43:10.330 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 85.2160 ms
2025-09-09 19:43:10.333 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 91.9253ms
2025-09-09 19:43:58.042 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 0
2025-09-09 19:43:58.055 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Bus instance RebusBus Rebus 1 successfully stopped
2025-09-09 19:43:58.063 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 19:43:58.079 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Stopping periodic task "CleanupTrackedErrors"
2025-09-09 19:43:58.089 -03:00 [INF] Rebus.Internals.ConnectionManager Disposing RabbitMQ connection
2025-09-09 19:43:58.107 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" stopped
2025-09-09 19:45:58.523 -03:00 [INF] Microsoft.Extensions.Diagnostics.HealthChecks.HealthCheckService Health Check enabled at: '/health'
2025-09-09 19:45:58.807 -03:00 [INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\dnumajiri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-09 19:45:58.920 -03:00 [INF] Rebus.Internals.ConnectionManager Initializing RabbitMQ connection manager for transport with input queue "queue-sale"
2025-09-09 19:45:59.276 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Starting periodic task "CleanupTrackedErrors" with interval 00:00:10
2025-09-09 19:45:59.293 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" started
2025-09-09 19:45:59.298 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Successfully created bus instance RebusBus Rebus 1 (isDefaultBus: true)
2025-09-09 19:45:59.405 -03:00 [INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:5119
2025-09-09 19:45:59.408 -03:00 [INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down.
2025-09-09 19:45:59.411 -03:00 [INF] Microsoft.Hosting.Lifetime Hosting environment: Development
2025-09-09 19:45:59.413 -03:00 [INF] Microsoft.Hosting.Lifetime Content root path: C:\Git\Ambev.DeveloperEvaluation\backend\src\Ambev.DeveloperEvaluation.WebApi
2025-09-09 19:45:59.421 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 1
2025-09-09 19:45:59.468 -03:00 [INF] Rebus.RabbitMq.RabbitMqTransport Successfully initialized consumer for "queue-sale"
2025-09-09 19:46:13.805 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 48
2025-09-09 19:46:13.942 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:14.013 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:46:15.512 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (53ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:46:15.746 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p8='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0, "Quantity" = @p1
WHERE "Id" = @p2;
UPDATE "Sales" SET "Branch" = @p3, "Date" = @p4, "Number" = @p5, "Total" = @p6, "UserId" = @p7
WHERE "Id" = @p8;
2025-09-09 19:46:15.870 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:46:15.918 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleUpdatedEventHandler SaleUpdatedEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", UpdatedAt="2025-09-09T22:46:15.7724606Z"
2025-09-09 19:46:15.934 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 1903.7203ms
2025-09-09 19:46:15.981 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:15.989 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 2155.9412 ms
2025-09-09 19:46:16.012 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 2207.2576ms
2025-09-09 19:46:24.621 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 19:46:24.628 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:24.640 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:46:24.688 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:46:24.697 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 19:46:24.723 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 79.7901ms
2025-09-09 19:46:24.726 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:24.732 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP GET /api/sales/3 responded 200 in 107.3287 ms
2025-09-09 19:46:24.737 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 115.8553ms
2025-09-09 19:46:31.407 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - application/json 47
2025-09-09 19:46:31.411 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:31.413 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:46:31.491 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:46:31.496 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 19:46:31.509 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleUpdatedEventHandler SaleUpdatedEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", UpdatedAt="2025-09-09T22:46:31.5033862Z"
2025-09-09 19:46:31.523 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:46:31.523 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleItemCancelledEventHandler SaleItemCancelledEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", ItemId="3821c395-0bc4-4013-a500-252237323621", CancelledAt="2025-09-09T22:46:31.5124839Z"
2025-09-09 19:46:31.526 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 108.4246ms
2025-09-09 19:46:31.529 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:31.530 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 responded 200 in 121.1459 ms
2025-09-09 19:46:31.532 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/ba06fb40-e4e6-49d9-a3e5-46f202e05fa2 - 200 null application/json; charset=utf-8 125.2642ms
2025-09-09 19:46:41.974 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 19:46:41.978 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:41.980 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:46:41.987 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:46:41.991 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 19:46:41.993 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 11.1855ms
2025-09-09 19:46:41.995 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:41.998 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP GET /api/sales/3 responded 200 in 20.1360 ms
2025-09-09 19:46:42.001 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 27.1181ms
2025-09-09 19:46:58.414 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - application/json 47
2025-09-09 19:46:58.418 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:58.419 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "UpdateSaleItem", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSaleItem(System.Guid, System.Guid, Ambev.DeveloperEvaluation.WebApi.Features.Sales.UpdateSale.UpdateSaleItemRequest) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:46:58.429 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__saleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Id" = @__saleId_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:46:58.437 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Decimal), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SaleItems" SET "Cancelled" = @p0
WHERE "Id" = @p1;
UPDATE "Sales" SET "Branch" = @p2, "Date" = @p3, "Number" = @p4, "Total" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2025-09-09 19:46:58.451 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleUpdatedEventHandler SaleUpdatedEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", UpdatedAt="2025-09-09T22:46:58.4459617Z"
2025-09-09 19:46:58.463 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleItemCancelledEventHandler SaleItemCancelledEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", ItemId="4fba46bf-1463-45d2-ae38-05d9e19134df", CancelledAt="2025-09-09T22:46:58.4563417Z"
2025-09-09 19:46:58.473 -03:00 [INF] Ambev.DeveloperEvaluation.Application.Events.SaleCancelledEventHandler SaleCancelledEvent recebido: SaleId="2bd2b62d-fd39-415b-9456-21d214d1c970", CancelledAt="2025-09-09T22:46:58.4678813Z"
2025-09-09 19:46:58.477 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-09 19:46:58.479 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi) in 55.3002ms
2025-09-09 19:46:58.481 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.UpdateSaleItem (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:46:58.482 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP PUT /api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 responded 200 in 64.2022 ms
2025-09-09 19:46:58.485 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 PUT http://localhost:5119/api/sales/2bd2b62d-fd39-415b-9456-21d214d1c970/item/c21ac74f-6ca1-42e7-8b68-7da1ed07ef57 - 200 null application/json; charset=utf-8 70.6999ms
2025-09-09 19:47:25.360 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET http://localhost:5119/api/sales/3 - null null
2025-09-09 19:47:25.381 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:47:25.384 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetByNumber", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetByNumber(Int32) on controller Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController (Ambev.DeveloperEvaluation.WebApi).
2025-09-09 19:47:25.395 -03:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__number_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Branch", t."Date", t."Number", t."Total", t."UserId", s0."Id", s0."Cancelled", s0."Discounts", s0."Price", s0."ProductId", s0."Quantity", s0."SaleId", s0."TotalPrice"
FROM (
    SELECT s."Id", s."Branch", s."Date", s."Number", s."Total", s."UserId"
    FROM "Sales" AS s
    WHERE s."Number" = @__number_0
    LIMIT 1
) AS t
LEFT JOIN "SaleItems" AS s0 ON t."Id" = s0."SaleId"
ORDER BY t."Id"
2025-09-09 19:47:25.400 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'Ambev.DeveloperEvaluation.Application.Sales.GetSale.GetSaleByIdResult'.
2025-09-09 19:47:25.408 -03:00 [INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi) in 19.7647ms
2025-09-09 19:47:25.411 -03:00 [INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Ambev.DeveloperEvaluation.WebApi.Features.Sales.SalesController.GetByNumber (Ambev.DeveloperEvaluation.WebApi)'
2025-09-09 19:47:25.415 -03:00 [INF] Ambev.DeveloperEvaluation.WebApi.Middleware.SerilogRequestLoggingMiddleware HTTP GET /api/sales/3 responded 200 in 34.1358 ms
2025-09-09 19:47:25.421 -03:00 [INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET http://localhost:5119/api/sales/3 - 200 null application/json; charset=utf-8 61.0046ms
2025-09-09 19:47:33.266 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" setting number of workers to 0
2025-09-09 19:47:33.270 -03:00 [INF] Rebus.ServiceProvider.Internals.RebusBackgroundService Bus instance RebusBus Rebus 1 successfully stopped
2025-09-09 19:47:33.271 -03:00 [INF] Microsoft.Hosting.Lifetime Application is shutting down...
2025-09-09 19:47:33.280 -03:00 [INF] Rebus.Threading.TaskParallelLibrary.TplAsyncTask Stopping periodic task "CleanupTrackedErrors"
2025-09-09 19:47:33.288 -03:00 [INF] Rebus.Internals.ConnectionManager Disposing RabbitMQ connection
2025-09-09 19:47:33.301 -03:00 [INF] Rebus.Bus.RebusBus Bus "Rebus 1" stopped
